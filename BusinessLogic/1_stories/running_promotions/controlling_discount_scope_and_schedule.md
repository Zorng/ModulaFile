# Controlling Where and When Discounts Apply

## Context

A discount is rarely meant to apply everywhere, all the time.

Some promotions are tied to a specific branch.  
Some are valid only during certain hours or days.  
Others are limited to a short campaign window.

Deciding *where* and *when* a discount applies is part of planning, not something staff should decide on the spot.

---

## The Situation

A manager wants to define the scope of a discount.

Common situations include:
- running a promotion at one branch but not another
- offering a discount only during off-peak hours
- limiting a promotion to a specific date range
- ending a promotion automatically after it expires

The goal is to ensure that discounts apply **exactly where and when intended**.

---

## What the Manager Expects

The manager expects:
- to choose which branches a discount applies to
- to define when a discount starts and ends
- to trust that the rules are applied consistently
- confidence that staff will not need to remember special conditions

They do **not** expect:
- discounts to appear in the wrong branch
- expired promotions to be applied accidentally
- staff to manually enable or disable discounts during service

From their perspective, scope and timing should be **predictable and self-contained**.

---

## Constraints & Reality

- Branches operate under different conditions
- Promotions may overlap or change quickly
- Staff turnover makes manual enforcement unreliable

Relying on memory or manual checks creates mistakes and awkward customer interactions.

---

## How Modula Helps

Modula supports this situation by:
- allowing discounts to be limited to specific branches
- respecting defined start and end times
- applying scope rules automatically once defined
- ensuring that past sales are not affected by later changes

This lets promotions run as intended without constant oversight.

---

## What This Story Is Not About

- Defining the discount itself
- Calculating discount amounts
- Applying discounts during checkout
- Explaining discounts after the sale

Those belong to other stories.

This story is about **setting clear boundaries for promotions**, so they behave correctly without staff intervention.