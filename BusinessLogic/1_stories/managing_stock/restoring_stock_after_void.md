# Restoring Stock When a Sale Is Voided

## Context

Occasionally, a completed sale needs to be undone.

When that happens, it is not only money that is affected.  
Items that were considered “used” or “sold” now need to be treated as available again.

Restoring stock after a void is about **keeping inventory aligned with reality**, even when exceptions occur.

---

## The Situation

A sale is voided after it was already completed.

From an operational point of view:
- ingredients may not have been used yet
- packaged goods may still be intact
- retail items may be returned immediately

In these cases, stock should reflect that nothing actually left the store.

The person handling the void expects inventory to follow the decision automatically.

---

## What the Staff and Manager Expect

They expect:
- stock levels to be restored when a sale is undone
- no manual steps to “add items back”
- the correction to be consistent with how the sale was originally handled
- confidence that inventory reflects the new reality

They do **not** expect:
- to remember which items were involved
- to manually reverse stock changes
- inventory to drift out of sync because of an approved correction

From their perspective, reversing a sale should **reverse its effects**.

---

## Constraints & Reality

- Voids are exceptional, not routine
- Some items may already be consumed or wasted
- Not every void implies a physical return

The system cannot know what happened physically in every case.  
It must still behave predictably.

Restoration should follow defined rules, not assumptions.

---

## How Modula Helps

Modula supports this situation by:
- restoring stock automatically when a sale is officially undone
- applying the same tracking rules used during the sale
- ensuring inventory reflects the corrected outcome
- keeping the process invisible to staff once approval is complete

Inventory stays consistent without additional effort.

---

## What This Story Is Not About

- Deciding whether a sale should be voided
- Explaining why a void was approved or rejected
- Handling waste or damage
- Investigating discrepancies

Those belong to other stories or review processes.

This story is about **bringing inventory back in line when a mistake is corrected**, so the system continues to reflect reality.